(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[1091,34271,49897,80896,99127],{46243:(f,o,n)=>{f.exports=n(20460)},49897:(f,o,n)=>{"use strict";n.r(o),n.d(o,{del:()=>m,get:()=>E,head:()=>_,patch:()=>y,post:()=>x,put:()=>O});var l=n(91749),P=n.n(l),d=n(33530),w=n.n(d);const g=config.relative_path+"/api/v3";async function s(e,r){if(e.url=e.url.startsWith("/api")?config.relative_path+e.url:g+e.url,typeof r=="function"){i(e).then(t=>r(null,t),t=>r(t));return}try{return await i(e)}catch(t){if(t.message==="A valid login session was not found. Please log in and try again."){const{url:u}=await(0,l.fire)("filter:admin.reauth",{url:"login"});return(0,d.confirm)("[[error:api.reauth-required]]",c=>{c&&ajaxify.go(u)})}throw t}}async function i(e){const{url:r}=e;delete e.url,e.data&&!(e.data instanceof FormData)&&(e.data=JSON.stringify(e.data||{}),e.headers["content-type"]="application/json; charset=utf-8"),{options:e}=await(0,l.fire)("filter:api.options",{options:e}),e.data&&(e.body=e.data,delete e.data);const t=await fetch(r,e),{headers:u}=t;if(u.get("x-redirect"))return i({url:u.get("x-redirect"),...e});const c=u.get("content-type"),h=c&&c.startsWith("application/json");let a;if(e.method!=="HEAD"&&(h?a=await t.json():a=await t.text()),!t.ok)throw a?new Error(h?a.status.message:a):new Error(t.statusText);return h&&a&&a.hasOwnProperty("status")&&a.hasOwnProperty("response")?a.response:a}function E(e,r,t){return s({url:e+(r&&Object.keys(r).length?"?"+$.param(r):"")},t)}function _(e,r,t){return s({url:e+(r&&Object.keys(r).length?"?"+$.param(r):""),method:"HEAD"},t)}function x(e,r,t){return s({url:e,method:"POST",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}function y(e,r,t){return s({url:e,method:"PATCH",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}function O(e,r,t){return s({url:e,method:"PUT",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}function m(e,r,t){return s({url:e,method:"DELETE",data:r,headers:{"x-csrf-token":config.csrf_token}},t)}},86246:(f,o,n)=>{f.exports=n(13402)}}]);
