"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[46923],{22410:(v,C,p)=>{var E,u;E=[p(91749),p(29930),p(49897)],u=function(w,T,_){const l={};let r,a=0,e=!1,d,i=0;l.init=function(o,s){const t=$("body");typeof o=="function"?(r=o,d=t):(r=s,d=o||t),a=$(window).scrollTop(),$(window).off("scroll",h).on("scroll",h),t.height()<=$(window).height()&&(!ajaxify.data.hasOwnProperty("pageCount")||ajaxify.data.pageCount>1)&&r(1)};function h(){i&&clearTimeout(i),i=setTimeout(function(){i=0,f()},60)}function f(){const o=utils.findBootstrapEnvironment(),s=(o==="xs"||o==="sm")&&$("html").hasClass("composing");if(e||s||app.flags._glance)return;const t=$(window).scrollTop(),n=$(window).height(),c=d.height()-n,m=d.offset()?d.offset().top:0,g=100*(t-m)/(c<=0?n:c),y=15,D=85,A=t>a?1:-1;(g<y&&t<a||g>D&&t>a||g<0&&A>0&&c<0)&&r(A),a=t}return l.loadMore=function(o,s,t){if(e)return;e=!0;const n={method:o,data:s};w.fire("action:infinitescroll.loadmore",n),(n.method.startsWith("/")?_.get:socket.emit)(n.method,n.data,function(m,g){if(m)return e=!1,T.error(m);t(g,function(){e=!1})})},l.loadMoreXhr=function(o,s){if(e)return;e=!0;const t=config.relative_path+"/api"+location.pathname.replace(new RegExp("^"+config.relative_path),""),n={url:t,data:o};w.fire("action:infinitescroll.loadmore.xhr",n),$.get(t,o,function(c){s(c,function(){e=!1})}).fail(function(c){e=!1,T.error(String(c.responseJSON||"[[error:no-connection]]"))})},l.removeExtra=function(o,s,t){let n=$();if(o.length<=t)return n;const c=o.length-t;if(s>0){const m=$(document).height(),g=$(window).scrollTop();n=o.slice(0,c).remove(),$(window).scrollTop(g+($(document).height()-m))}else n=o.slice(o.length-c).remove();return n},l}.apply(C,E),u!==void 0&&(v.exports=u)},76835:(v,C,p)=>{var E,u;E=[p(67910),p(22410),p(91749)],u=function(w,T,_){const l={};let r,a=1;l.init=function(){w.init(),l.handleInfiniteScroll("account/topics")},l.handleInfiniteScroll=function(i){r=i,a=ajaxify.data.pagination.currentPage,config.usePagination||T.init(e)};function e(i){if(i<0)return;const h=utils.params();a+=1,h.page=a,T.loadMoreXhr(h,function(f,o){f.topics&&f.topics.length?d(f.topics,o):o()})}function d(i,h){app.parseAndTranslate(r,"topics",{topics:i},function(f){$('[component="category"]').append(f),f.find(".timeago").timeago(),_.fire("action:topics.loaded",{topics:i}),h()})}return l}.apply(C,E),u!==void 0&&(v.exports=u)}}]);
