"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[50723,62648],{41326:(p,f,a)=>{var d,i;d=[a(67910),a(52473),a(49897),a(29930)],i=function(l,u,m,r){const c={};return c.init=function(){l.init(),c.prepareSessionRevocation()},c.prepareSessionRevocation=function(){u.get("user/sessions").on("click","[data-action]",function(){const n=$(this).parents("[data-uuid]"),o=n.attr("data-uuid");o&&m.del(`/users/${ajaxify.data.uid}/sessions/${o}`,{}).then(()=>{n.remove()}).catch(t=>{try{const e=JSON.parse(t.responseText);e.loggedIn===!1&&(window.location.href=config.relative_path+"/login?error="+e.title),r.error(e.title)}catch(e){console.error(e),r.error("[[error:invalid-data]]")}})})},c}.apply(f,d),i!==void 0&&(p.exports=i)},48435:(p,f,a)=>{var d,i;d=[a(67910),a(29930),a(41326)],i=function(l,u,m){const r={};r.init=function(){l.init(),c(),m.prepareSessionRevocation()};function c(){$('[component="account/save-moderation-note"]').on("click",function(){const n=$('[component="account/moderation-note"]'),o=n.val();socket.emit("user.setModerationNote",{uid:ajaxify.data.uid,note:o},function(t,e){if(t)return u.error(t);n.val(""),app.parseAndTranslate("account/info","moderationNotes",{moderationNotes:e},function(s){$('[component="account/moderation-note/list"]').prepend(s),s.find(".timeago").timeago()})})}),$('[component="account/moderation-note/edit"]').on("click",function(){const n=$(this).parents("[data-id]"),o=n.find('[component="account/moderation-note/content-area"]'),t=n.find('[component="account/moderation-note/edit-area"]');o.addClass("hidden"),t.removeClass("hidden"),t.find("textarea").trigger("focus").putCursorAtEnd()}),$('[component="account/moderation-note/save-edit"]').on("click",function(){const n=$(this).parents("[data-id]"),o=n.find('[component="account/moderation-note/content-area"]'),t=n.find('[component="account/moderation-note/edit-area"]');o.removeClass("hidden");const e=t.find("textarea");socket.emit("user.editModerationNote",{uid:ajaxify.data.uid,id:n.attr("data-id"),note:e.val()},function(s,h){if(s)return u.error(s);e.css({height:e.prop("scrollHeight")+"px"}),t.addClass("hidden"),o.find(".content").html(h[0].note)})}),$('[component="account/moderation-note/cancel-edit"]').on("click",function(){const n=$(this).parents("[data-id]"),o=n.find('[component="account/moderation-note/content-area"]'),t=n.find('[component="account/moderation-note/edit-area"]');o.removeClass("hidden"),t.addClass("hidden")}),$('[component="account/moderation-note/edit-area"] textarea').each((n,o)=>{const t=$(o);t.css({height:t.prop("scrollHeight")+"px"}).parent().addClass("hidden")})}return r}.apply(f,d),i!==void 0&&(p.exports=i)}}]);
