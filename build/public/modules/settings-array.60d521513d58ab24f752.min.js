"use strict";(self.webpackChunknodebb=self.webpackChunknodebb||[]).push([[65274],{40054:(u,l,h)=>{var f;f=function(){let d=null;function g(t){const a=$(d.createElement("button",{class:"btn btn-sm btn-primary remove",title:"Remove Item"},"-"));return a.click(function(e){e.preventDefault(),t.remove(),a.remove(),t.each(function(i,n){n=$(n),n.is("[data-key]")&&d.destructElement(n)})}),a}function y(t,a,e,i,n,r){e=d.deepClone(e);const p=e["data-type"]||e.type||"text",c=$(d.createElementOfType(p,e.tagName,e));c.attr("data-parent","_"+a),delete e["data-type"],delete e.tagName;for(const[o,s]of Object.entries(e))o.search("data-")===0?c.data(o.substring(5),s):o.search("prop-")===0?c.prop(o.substring(5),s):c.attr(o,s);d.fillField(c,i),$('[data-parent="_'+a+'"]',t).length&&r(n),r(c),r(g(c.add(n)))}function b(t,a,e,i){const n=$(document.createTextNode(" ")),r=t.data("new")||"",p=$(d.createElement("button",{class:"btn btn-sm btn-primary add",title:"Expand Array"},"+"));p.click(function(c){c.preventDefault(),y(t,a,e,r,i.clone(),function(o){n.before(o)})}),t.append(n),t.append(p)}return{types:["array","div"],use:function(){d=this.helper},create:function(t,a){return d.createElement(a||"div")},set:function(t,a){let e=t.data("attributes");const i=t.data("key")||t.data("parent");let n=t.data("split")||", ";n=function(){try{return $(n)}catch(r){return console.error(r),$(document.createTextNode(n))}}(),typeof e!="object"&&(e={}),t.empty(),a instanceof Array||(a=[]);for(let r=0;r<a.length;r+=1)y(t,i,e,a[r],n.clone(),function(p){t.append(p)});b(t,i,e,n)},get:function(t,a,e){const i=t.data("key")||t.data("parent"),n=$('[data-parent="_'+i+'"]',t),r=[];if(n.each(function(p,c){c=$(c);const o=d.readValue(c);if(d.isTrue(c.data("empty"))||o!==void 0&&(o==null||o.length!==0))return r.push(o)}),e||r.length)return r}}}.call(l,h,l,u),f!==void 0&&(u.exports=f)}}]);
